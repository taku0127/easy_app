document.addEventListener("DOMContentLoaded",function(){const t=document.getElementsByClassName("js-start5Btn")[0],e=document.getElementsByClassName("js-start10Btn")[0],i=document.getElementsByClassName("js-stop")[0];var s=document.getElementsByClassName("js-animation")[0],s=new Animation(s),n={inhale:4e3,hold:7e3,exhale:8e3};breathing5minutes=new Breathing(s,n,5),breathing10minutes=new Breathing(s,n,10),t.addEventListener("click",function(){breathing10minutes&&breathing10minutes.stop(),breathing5minutes.start()}),e.addEventListener("click",function(){breathing5minutes&&breathing5minutes.stop(),breathing10minutes.start()}),i.addEventListener("click",()=>{breathing5minutes&&breathing5minutes.stop(),breathing10minutes&&breathing10minutes.stop()})});class Animation{constructor(t){this.element=t}bigger(t){var e="300px";this.element.style.transition=`transform ${t}ms ease-in-out, background-color ${t}ms ease-in-out , width ${t}ms ease-in-out,height ${t}ms ease-in-out`,this.element.style.width=e,this.element.style.height=e,this.element.style.backgroundColor="#b4adff"}smaller(t){var e="100px";this.element.style.transition=`transform ${t}ms ease-in-out, background-color ${t}ms ease-in-out , width ${t}ms ease-in-out,height ${t}ms ease-in-out`,this.element.style.width=e,this.element.style.height=e,this.element.style.backgroundColor="rgb(255, 173, 173)"}}class Breathing{constructor(t,e,i){this.animation=t,this.times=e,this.minutes=6e4*i,this.totalTime(),this.sounds={start:new Sound("sine",.2,600),hold:new Sound("sine",.2,400),end:new Sound("sine",.2,300)},this.interval=null,this.inhaleTimeout=null,this.holdTimeout=null}start(){this.stop(),this.cycle(),this.interval=setInterval(()=>{this.cycle()},this.totalTime),setTimeout(()=>{clearInterval(this.interval)},this.minutes)}cycle(){this.sounds.start.playSound(),this.animation.bigger(this.times.inhale),this.inhaleTimeout=setTimeout(()=>{this.sounds.hold.playSound(),this.holdTimeout=setTimeout(()=>{this.sounds.end.playSound(),this.animation.smaller(this.times.exhale)},this.times.hold)},this.times.inhale)}stop(){clearInterval(this.interval),clearInterval(this.inhaleTimeout),clearInterval(this.holdTimeout),this.animation.smaller(this.times.exhale)}totalTime(){let e=0;Object.values(this.times).forEach(t=>{e+=t}),this.totalTime=e}}class Sound{constructor(t,e,i){this.context=new(window.AudioContext||window.webkitAudioContext),this.type=t,this.freq=i,this.time=e}playSound(){const t=this.context.createOscillator(),e=this.context.createGain();e.gain.value=.3,t.type=this.type,t.frequency.setValueAtTime(this.freq,this.context.currentTime),t.connect(e),e.connect(this.context.destination),t.start(),t.stop(this.context.currentTime+this.time)}}